# tmux config for Claude Code + workmux workflow

set -g mouse on
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on
set -g history-limit 50000
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"
set -s escape-time 0

# ============================================
# Pane navigation: prefix + h/j/k/l
# ============================================

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Copy mode navigation
bind-key -T copy-mode-vi 'C-h' select-pane -L
bind-key -T copy-mode-vi 'C-j' select-pane -D
bind-key -T copy-mode-vi 'C-k' select-pane -U
bind-key -T copy-mode-vi 'C-l' select-pane -R

# ============================================
# Vim-style pane management
# ============================================

# Splits: prefix + v/s
bind v split-window -h -c "#{pane_current_path}"
bind s split-window -v -c "#{pane_current_path}"

# Resize: prefix + H/J/K/L (repeatable)
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# ============================================
# Window switching
# ============================================

# Alt+1-6 for quick window switching
bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5
bind -n M-6 select-window -t 6
bind w choose-tree -Zw

# ============================================
# Status bar
# ============================================

set -g status-interval 5
set -g status-style 'bg=#1e1e2e fg=#cdd6f4'
set -g status-left '[#S] '
set -g status-left-length 20
set -g status-right '%H:%M'
set -g window-status-format ' #I:#W '
set -g window-status-current-format ' #I:#W '
set -g window-status-current-style 'bg=#89b4fa fg=#1e1e2e bold'

# ============================================
# Misc
# ============================================

set -g bell-action any
set -g visual-bell off

# Quick config reload
bind r source-file ~/.tmux.conf \; display "Config reloaded!"
